# 📚 Aura – AI-Powered Study Partner

This document provides a comprehensive overview of **Aura**, an AI-powered study partner application built with Flutter. It covers the application's purpose, key features, technology stack, and high-level system architecture.

> 💡 For detailed information about specific subsystems, refer to the corresponding sections:  
> - [🔐 Authentication System](#-authentication-system)  
> - [📁 Document Management](#-document-management)  
> - [🧠 AI Integration](#-ai-integration)  
> - [🎨 User Interface Components](#-user-interface-components) 

---

## 🎯 Application Purpose and Scope

Aura is a cross-platform mobile application designed to enhance the study experience through AI-powered document analysis and summarization.

- Users can upload various document formats
- Receive intelligent summaries generated by Google's Gemini AI
- Manage their study materials through an intuitive interface

The system integrates:
- Multiple OAuth providers for authentication
- Robust document management with local caching
- A responsive UI with light/dark themes and internationalization support

---

## ✨ Key Features

| Feature Category     | Capabilities                                                                 |
|----------------------|------------------------------------------------------------------------------|
| **Authentication**   | OAuth integration with Google, GitHub, and Discord providers                |
| **Document Management** | File upload, recent documents tracking, local caching with Hive            |
| **AI Processing**    | Document summarization using Google Gemini AI                               |
| **User Interface**   | Material Design 3, dark/light themes, internationalization                  |
| **Session Management** | Persistent login state, user profile management                            |
| **Cross-platform**   | iOS and Android support with responsive design                              |

---

## 🛠️ Technology Stack

### Core Framework and State Management  
![Core Stack](https://github.com/user-attachments/assets/a2a52706-691a-4bc0-afa9-18a027e2825e)

### External Integrations and Storage  
![External Integrations](https://github.com/user-attachments/assets/c32c32da-0335-491a-b4cf-4079ba8048bc)

---

## 🧠 High-Level System Architecture

### Application Bootstrap and Core Services  
![App Bootstrap](https://github.com/user-attachments/assets/991c1922-6e89-4705-800b-c2e313c18e2a)  
The application initializes through the `main()` function, setting up:
- Dependency injection
- Local database initialization
- Internationalization
- Theme management

### Core System Components  
![System Components](https://github.com/user-attachments/assets/aafc05ee-dd1e-49c0-8ca9-1e56a55d2b5a)  
Aura follows a **layered architecture** with clear separation between:
- UI components
- Business logic (Cubits)
- Data repositories
- External services

---

## 👣 Application Flow and User Journey

### Primary User Workflows  
![User Journey](https://github.com/user-attachments/assets/aec17a87-9df7-4e4e-8962-60614ac56b6a)  
Users are guided through:
1. Onboarding
2. Authentication
3. Main interface for:
   - Uploading documents
   - Generating AI summaries
   - Managing profiles

---

## 🗃️ Data Architecture

### Storage and Caching Strategy  
![Data Strategy](https://github.com/user-attachments/assets/a9138f9e-f643-45d8-ba7d-f5ea843fd5a3)  
Aura uses a **multi-layered caching strategy**:
- **Hive** for document storage  
- **SharedPreferences** for user session data  
- **Dio** for all HTTP communications  

---

# 🔐 Authentication System

This section covers the **complete authentication system** in Aura, including registration, login, OAuth, and session handling.

- User registration
- Login
- OAuth integration
- Email verification
- Session management

The authentication system provides secure access control and user identity management for the AI-powered study partner application.

---

## 🧱 Architecture Overview

Aura’s authentication system follows a **layered architecture** with clear separation of concerns using:

- The **Repository pattern**
- **BLoC (Cubit)** for state management

### 📊 Authentication System Architecture  
![Authentication Architecture](https://github.com/user-attachments/assets/b06beadb-f0f5-4283-81d7-dee767ccbeb5)

---

## 🔁 Core Authentication Flow

The authentication system supports three primary flows:

1. **Login**
2. **Registration with email verification**
3. **OAuth authentication**

### 🔄 Flow Diagram  
![Core Auth Flow](https://github.com/user-attachments/assets/53fef7e1-4faf-449f-a7bc-aa1c9c915488)

---

## 📦 Repository Implementation

The `AuthRepoImpl` class implements the core authentication logic.  
It includes the following key operations:

| Method        | Purpose                   | Endpoint              | Session Management                 |
|---------------|---------------------------|------------------------|-------------------------------------|
| `login()`     | User authentication       | `Endpoints.login`      | Saves token and sets logged in      |
| `register()`  | User registration         | `Endpoints.register`   | No automatic session setup          |
| `emailVerify()` | Email verification with OTP | `Endpoints.emailVerify` | Saves token and sets logged in    |

---

## 📑 State Management

The `AuthCubit` manages authentication state and form validation.  

### 🧾 Form Management

- `GlobalKey<FormState>` – for form validation  
- `AutovalidateMode` – controls auto validation behavior  
- Separate field storage for login and registration forms

### 🔄 State Flow  
![State Flow](https://github.com/user-attachments/assets/9bda2afe-c06a-416d-bab9-a2727097d133)

### 📦 State Classes

- `AuthInitial` – Initial state
- `AuthLoading` – While calling APIs
- `AuthSuccess` – On successful authentication (with `UserModel`)
- `AuthError` – On error (with message and optional field errors)
- `FormValidationState` – Triggered when form validation fails

---

## 🌐 OAuth Integration

Aura supports **OAuth authentication** through **deep link callbacks** handled by the routing system.

### 🔁 OAuth Callback Flow  
![OAuth Callback Flow](https://github.com/user-attachments/assets/ddc19c47-8b28-404e-a9cd-843d5ff65965)

---

## 🔐 Session Management

Session persistence is handled through `UserCacheHelper`, which abstracts local storage.

### 🧮 Session Operations

| Method            | Purpose                        | Storage Backend     |
|-------------------|--------------------------------|----------------------|
| `saveUserToken()` | Store authentication token     | SharedPreferences    |
| `setLoggedIn()`   | Set login status flag          | SharedPreferences    |
| Session validation| Check if user is authenticated | On app startup       |

### 🔄 Session Flow  
![Session Flow](https://github.com/user-attachments/assets/581ec0ac-0609-48de-9b99-9ee4557d57f4)

---

## 🌐 API Integration

The authentication system integrates with a **Laravel backend API** hosted at:

> `https://aura.laravel.cloud`

### 🔗 API Endpoints

| Operation         | Endpoint                | HTTP Method | Request Data                                      |
|------------------|--------------------------|-------------|--------------------------------------------------|
| Login            | `Endpoints.login`        | POST        | `email`, `password`                              |
| Registration     | `Endpoints.register`     | POST        | `firstName`, `lastName`, `email`, `password`, `passwordConfirmation` |
| Email Verification | `Endpoints.emailVerify` | POST        | `email`, `verificationCode`                      |

---

## ❌ Error Handling

Aura handles:

- **Network errors**
- **Validation errors** from the Laravel backend

### ⚠️ Error Types

- `ServerFailure`:  
  Includes:
  - Error message  
  - Optional field-specific errors (e.g., invalid email/password)

- `Generic Failure`:  
  For unknown or non-validation related issues

All form validation errors are **surfaced in the UI** via the `AuthError` state.

---


---

# 📁 Document Management

> _Coming soon..._

---

# 🧠 AI Integration

> _Coming soon..._

---

# 🎨 User Interface Components

> _Coming soon..._

